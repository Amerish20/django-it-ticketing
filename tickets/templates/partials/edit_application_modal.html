<form method="post" id="editApplicationForm">
    {% csrf_token %}
    
    <div class="modal-header">
        <h5 class="modal-title">Edit Application</h5>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
    </div>
    <div class="modal-body">
        <div id="error-message" class="alert alert-danger d-none"></div>

        <div class="form-group">
            <label for="leave_type">Leave Type</label>
            <select class="form-control" id="leave_type" name="leave_type" required>
                {% for lt in leave_types %}
                    <option value="{{ lt.id }}" {% if application.leave_type_id == lt.id %}selected{% endif %}>
                        {{ lt.name }}
                    </option>
                {% endfor %}
            </select>
        </div>

        <div class="form-group">
            <label for="from_date">From Date</label>
            <input type="date" name="from_date" class="form-control" value="{{ application.from_date_display }}" onclick="this.showPicker()">
        </div>

        <div class="form-group">
            <label for="to_date">To Date</label>
            <input type="date" name="to_date" class="form-control" value="{{ application.to_date_display }}" onclick="this.showPicker()">
        </div>

        <div class="form-group">
            <label for="total_days">Total Days</label>
            <input type="number" id="total_days" name="total_days" class="form-control" value="{{ application.total_days }}" readonly>
        </div>

        <div class="form-group">
            <label for="remarks">Remarks</label>
            <textarea name="remarks" class="form-control">{{ application.remarks }}</textarea>
        </div>
        <input type="hidden" name="application_id" value="{{ application.id }}">
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-success" id="editSave">Save Changes</button>
    </div>
</form>
